<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>miner.ftp documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Clj-ftp 0.3.4-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>miner</span></div></div></li><li class="depth-2 current"><a href="miner.ftp.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ftp</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="miner.ftp.html#var-client-all-names"><div class="inner"><span>client-all-names</span></div></a></li><li class="depth-1"><a href="miner.ftp.html#var-client-cd"><div class="inner"><span>client-cd</span></div></a></li><li class="depth-1"><a href="miner.ftp.html#var-client-complete-pending-command"><div class="inner"><span>client-complete-pending-command</span></div></a></li><li class="depth-1"><a href="miner.ftp.html#var-client-delete"><div class="inner"><span>client-delete</span></div></a></li><li class="depth-1"><a href="miner.ftp.html#var-client-directory-names"><div class="inner"><span>client-directory-names</span></div></a></li><li class="depth-1"><a href="miner.ftp.html#var-client-file-names"><div class="inner"><span>client-file-names</span></div></a></li><li class="depth-1"><a href="miner.ftp.html#var-client-FTPFile-directories"><div class="inner"><span>client-FTPFile-directories</span></div></a></li><li class="depth-1"><a href="miner.ftp.html#var-client-FTPFiles"><div class="inner"><span>client-FTPFiles</span></div></a></li><li class="depth-1"><a href="miner.ftp.html#var-client-FTPFiles-all"><div class="inner"><span>client-FTPFiles-all</span></div></a></li><li class="depth-1"><a href="miner.ftp.html#var-client-get"><div class="inner"><span>client-get</span></div></a></li><li class="depth-1"><a href="miner.ftp.html#var-client-get-stream"><div class="inner"><span>client-get-stream</span></div></a></li><li class="depth-1"><a href="miner.ftp.html#var-client-mkdir"><div class="inner"><span>client-mkdir</span></div></a></li><li class="depth-1"><a href="miner.ftp.html#var-client-mkdirs"><div class="inner"><span>client-mkdirs</span></div></a></li><li class="depth-1"><a href="miner.ftp.html#var-client-put"><div class="inner"><span>client-put</span></div></a></li><li class="depth-1"><a href="miner.ftp.html#var-client-put-stream"><div class="inner"><span>client-put-stream</span></div></a></li><li class="depth-1"><a href="miner.ftp.html#var-client-pwd"><div class="inner"><span>client-pwd</span></div></a></li><li class="depth-1"><a href="miner.ftp.html#var-client-rename"><div class="inner"><span>client-rename</span></div></a></li><li class="depth-1"><a href="miner.ftp.html#var-client-send-site-command"><div class="inner"><span>client-send-site-command</span></div></a></li><li class="depth-1"><a href="miner.ftp.html#var-client-set-file-type"><div class="inner"><span>client-set-file-type</span></div></a></li><li class="depth-1"><a href="miner.ftp.html#var-decode"><div class="inner"><span>decode</span></div></a></li><li class="depth-1"><a href="miner.ftp.html#var-guess-file-type"><div class="inner"><span>guess-file-type</span></div></a></li><li class="depth-1"><a href="miner.ftp.html#var-list-all"><div class="inner"><span>list-all</span></div></a></li><li class="depth-1"><a href="miner.ftp.html#var-list-directories"><div class="inner"><span>list-directories</span></div></a></li><li class="depth-1"><a href="miner.ftp.html#var-list-files"><div class="inner"><span>list-files</span></div></a></li><li class="depth-1"><a href="miner.ftp.html#var-open"><div class="inner"><span>open</span></div></a></li><li class="depth-1"><a href="miner.ftp.html#var-rename-file"><div class="inner"><span>rename-file</span></div></a></li><li class="depth-1"><a href="miner.ftp.html#var-retrieve-file"><div class="inner"><span>retrieve-file</span></div></a></li><li class="depth-1"><a href="miner.ftp.html#var-with-ftp"><div class="inner"><span>with-ftp</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">miner.ftp</h2><div class="doc"><pre class="plaintext"></pre></div><div class="public anchor" id="var-client-all-names"><h3>client-all-names</h3><div class="usage"><code>(client-all-names client)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/clavoie/clj-ftp/tree/master/src/miner/ftp.clj#L119">view source</a></div></div><div class="public anchor" id="var-client-cd"><h3>client-cd</h3><div class="usage"><code>(client-cd client dir)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/clavoie/clj-ftp/tree/master/src/miner/ftp.clj#L164">view source</a></div></div><div class="public anchor" id="var-client-complete-pending-command"><h3>client-complete-pending-command</h3><div class="usage"><code>(client-complete-pending-command client)</code></div><div class="doc"><pre class="plaintext">Complete the previous command and check the reply code. Throw an expection if
reply code is not a positive completion</pre></div><div class="src-link"><a href="http://github.com/clavoie/clj-ftp/tree/master/src/miner/ftp.clj#L128">view source</a></div></div><div class="public anchor" id="var-client-delete"><h3>client-delete</h3><div class="usage"><code>(client-delete client fname)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/clavoie/clj-ftp/tree/master/src/miner/ftp.clj#L185">view source</a></div></div><div class="public anchor" id="var-client-directory-names"><h3>client-directory-names</h3><div class="usage"><code>(client-directory-names client)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/clavoie/clj-ftp/tree/master/src/miner/ftp.clj#L125">view source</a></div></div><div class="public anchor" id="var-client-file-names"><h3>client-file-names</h3><div class="usage"><code>(client-file-names client)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/clavoie/clj-ftp/tree/master/src/miner/ftp.clj#L122">view source</a></div></div><div class="public anchor" id="var-client-FTPFile-directories"><h3>client-FTPFile-directories</h3><div class="usage"><code>(client-FTPFile-directories client)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/clavoie/clj-ftp/tree/master/src/miner/ftp.clj#L116">view source</a></div></div><div class="public anchor" id="var-client-FTPFiles"><h3>client-FTPFiles</h3><div class="usage"><code>(client-FTPFiles client)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/clavoie/clj-ftp/tree/master/src/miner/ftp.clj#L113">view source</a></div></div><div class="public anchor" id="var-client-FTPFiles-all"><h3>client-FTPFiles-all</h3><div class="usage"><code>(client-FTPFiles-all client)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/clavoie/clj-ftp/tree/master/src/miner/ftp.clj#L110">view source</a></div></div><div class="public anchor" id="var-client-get"><h3>client-get</h3><div class="usage"><code>(client-get client fname)</code><code>(client-get client fname local-name)</code></div><div class="doc"><pre class="plaintext">Get a file and write to local file-system (must be within a with-ftp)
</pre></div><div class="src-link"><a href="http://github.com/clavoie/clj-ftp/tree/master/src/miner/ftp.clj#L138">view source</a></div></div><div class="public anchor" id="var-client-get-stream"><h3>client-get-stream</h3><div class="usage"><code>(client-get-stream client fname)</code></div><div class="doc"><pre class="plaintext">Get a file and return InputStream (must be within a with-ftp). Note that it&apos;s necessary to complete
this command with a call to `client-complete-pending-command` after using the stream.</pre></div><div class="src-link"><a href="http://github.com/clavoie/clj-ftp/tree/master/src/miner/ftp.clj#L146">view source</a></div></div><div class="public anchor" id="var-client-mkdir"><h3>client-mkdir</h3><div class="usage"><code>(client-mkdir client subdir)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/clavoie/clj-ftp/tree/master/src/miner/ftp.clj#L177">view source</a></div></div><div class="public anchor" id="var-client-mkdirs"><h3>client-mkdirs</h3><div class="usage"><code>(client-mkdirs client subpath)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/clavoie/clj-ftp/tree/master/src/miner/ftp.clj#L181">view source</a></div></div><div class="public anchor" id="var-client-put"><h3>client-put</h3><div class="usage"><code>(client-put client fname)</code><code>(client-put client fname remote)</code></div><div class="doc"><pre class="plaintext">Put a file (must be within a with-ftp)
</pre></div><div class="src-link"><a href="http://github.com/clavoie/clj-ftp/tree/master/src/miner/ftp.clj#L152">view source</a></div></div><div class="public anchor" id="var-client-put-stream"><h3>client-put-stream</h3><div class="usage"><code>(client-put-stream client instream remote)</code></div><div class="doc"><pre class="plaintext">Put an InputStream (must be within a with-ftp)
</pre></div><div class="src-link"><a href="http://github.com/clavoie/clj-ftp/tree/master/src/miner/ftp.clj#L159">view source</a></div></div><div class="public anchor" id="var-client-pwd"><h3>client-pwd</h3><div class="usage"><code>(client-pwd client)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/clavoie/clj-ftp/tree/master/src/miner/ftp.clj#L174">view source</a></div></div><div class="public anchor" id="var-client-rename"><h3>client-rename</h3><div class="usage"><code>(client-rename client from to)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/clavoie/clj-ftp/tree/master/src/miner/ftp.clj#L189">view source</a></div></div><div class="public anchor" id="var-client-send-site-command"><h3>client-send-site-command</h3><div class="usage"><code>(client-send-site-command client sitecmd)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/clavoie/clj-ftp/tree/master/src/miner/ftp.clj#L194">view source</a></div></div><div class="public anchor" id="var-client-set-file-type"><h3>client-set-file-type</h3><div class="usage"><code>(client-set-file-type client filetype)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/clavoie/clj-ftp/tree/master/src/miner/ftp.clj#L53">view source</a></div></div><div class="public anchor" id="var-decode"><h3>decode</h3><div class="usage"><code>(decode url-encoded)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/clavoie/clj-ftp/tree/master/src/miner/ftp.clj#L38">view source</a></div></div><div class="public anchor" id="var-guess-file-type"><h3>guess-file-type</h3><div class="usage"><code>(guess-file-type file-name)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/clavoie/clj-ftp/tree/master/src/miner/ftp.clj#L43">view source</a></div></div><div class="public anchor" id="var-list-all"><h3>list-all</h3><div class="usage"><code>(list-all url)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/clavoie/clj-ftp/tree/master/src/miner/ftp.clj#L210">view source</a></div></div><div class="public anchor" id="var-list-directories"><h3>list-directories</h3><div class="usage"><code>(list-directories url)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/clavoie/clj-ftp/tree/master/src/miner/ftp.clj#L218">view source</a></div></div><div class="public anchor" id="var-list-files"><h3>list-files</h3><div class="usage"><code>(list-files url)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/clavoie/clj-ftp/tree/master/src/miner/ftp.clj#L214">view source</a></div></div><div class="public anchor" id="var-open"><h3>open</h3><div class="usage"><code>(open url)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/clavoie/clj-ftp/tree/master/src/miner/ftp.clj#L21">view source</a></div></div><div class="public anchor" id="var-rename-file"><h3>rename-file</h3><div class="usage"><code>(rename-file url from to)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/clavoie/clj-ftp/tree/master/src/miner/ftp.clj#L200">view source</a></div></div><div class="public anchor" id="var-retrieve-file"><h3>retrieve-file</h3><div class="usage"><code>(retrieve-file url fname)</code><code>(retrieve-file url fname local-file)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="http://github.com/clavoie/clj-ftp/tree/master/src/miner/ftp.clj#L204">view source</a></div></div><div class="public anchor" id="var-with-ftp"><h3>with-ftp</h3><h4 class="type">macro</h4><div class="usage"><code>(with-ftp [client url &amp; {:keys [local-data-connection-mode file-type data-timeout-ms control-keep-alive-timeout-sec control-keep-alive-reply-timeout-ms], :or {data-timeout-ms -1, control-keep-alive-timeout-sec 300, control-keep-alive-reply-timeout-ms 1000}}] &amp; body)</code></div><div class="doc"><pre class="plaintext">Establish an FTP connection, bound to client, for the FTP url, and execute the body with
access to that client connection.  Closes connection at end of body.  Keyword
options can follow the url in the binding vector.  By default, uses a passive local data
connection mode and  ASCII file type.
Use [client url :local-data-connection-mode :active :file-type :binary] to override.

Allows to override the following timeouts:
  - `data-timeout-ms` - the underlying socket timeout. Default - infinite (&lt; 1).
  - `control-keep-alive-timeout-sec` - control channel keep alive message
    timeout. Default 300 seconds.
  - `control-keep-alive-reply-timeout-ms` - how long to wait for the control
    channel keep alive replies. Default 1000 ms.</pre></div><div class="src-link"><a href="http://github.com/clavoie/clj-ftp/tree/master/src/miner/ftp.clj#L61">view source</a></div></div></div></body></html>